import socket
import pyfiglet
import sys

banner = pyfiglet.figlet_format("MTO\n Port Scanner")
print(banner)

ip = "192.168.1.133"
open_ports = []

def test_port(port):
    ret = 1
    try:
        #specify socket is IPv4 and TCP
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(0.5)

        #if succesfull returns 0
        ret = sock.connect_ex((ip, port))
        sock.close()
    except:
        pass
    return ret

def main():
    for port in range(1, 65535):
        ret = test_port(port)
        if ret == 0:
            open_ports.append(port)
    print(sorted(open_ports))
main()