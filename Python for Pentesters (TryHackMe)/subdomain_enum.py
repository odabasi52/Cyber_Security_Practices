import requests
import argparse

def main():
    parser = argparse.ArgumentParser(description="Subdomain Enum")
    parser.add_argument('-w', '--wordlist', help="wordlist",required=True)
    parser.add_argument('-d', '--domain', help="target domain",required=True)
    args = parser.parse_args()
    
    sub_file = open(args.wordlist)
    sublist = sub_file.read().splitlines()
    
    for sub in sublist:
        domain = f"https://{sub}.{args.domain}"
        
        try:
            requests.get(domain)
            print("\033[32m" + "Valid subdomain: ", domain)
        except requests.ConnectionError:
            print("\033[0m"	+ "Domain not valid: ", domain)
            continue    
    print("\033[0m", end="")

if __name__ == "__main__":
    main()